parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"vWIo":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.applySize=s,exports.applyState=p,exports.checkBoardWidth=y,exports.openDefeatBox=f,exports.openVictoryBox=m,exports.renderTile=d,exports.updateMinesLeft=l;var e=document.querySelector("[data-board]"),t=document.querySelector("[data-remaining-mines]"),o=document.querySelector("#tile-template"),a=document.querySelector(":root"),r=document.querySelector(".controls-container"),n=document.querySelector(".victory-container-wrapper"),c=document.querySelector(".victory-container-wrapper .open-customize-menu-button-container > button"),i=document.querySelector(".defeat-container-wrapper"),u=document.querySelector(".defeat-container-wrapper .reset-button-container > button");function d(t,a){var r=o.content.cloneNode(!0),n=r.querySelector("[data-tile]");n.dataset.tileId=t.id;var c=r.querySelector("[data-text]"),i=t.numberOfMinesAroundMe;c.textContent=i,0==i&&(c.style.color="transparent");for(var u=r.querySelector("[data-state]"),d=0;d<16;d++){var s=document.createElement("div");u.appendChild(s)}(u.dataset.state=t.state,a.isAnimate||(u.dataset.animation="false"),a.isAnimate)||r.querySelectorAll("[data-state] > div").forEach(function(e){return e.remove()});e.appendChild(n)}function s(e){a.style.setProperty("--size","".concat(e))}function l(e){t.textContent="Mines left: ".concat(e)}function p(t){e.querySelector('[data-tile-id="'.concat(t.id,'"')).querySelector("[data-state]").dataset.state=t.state}function y(){var t=e.offsetWidth;r.style.width="".concat(t,"px")}function m(){n.dataset.state="active",setTimeout(function(){c.dataset.clickable="true"},3800)}function f(){i.dataset.state="active",setTimeout(function(){u.dataset.clickable="true"},1300)}
},{}],"MUAi":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.tilePattern=exports.TILE_STATES=exports.GAME_STATES=exports.ANIMATION_SPEEDS=void 0;var e={NUMBER:"number",HIDDEN:"hidden",MINE:"mine",MARKED:"marked",REVEAL_WITHOUT_ANIMATING:"revealWithoutAnimating"};exports.TILE_STATES=e;var r={id:0,row:0,column:0,isMine:!1,numberOfMinesAroundMe:0,state:e.HIDDEN};exports.tilePattern=r;var t={IN_PROGRESS:Symbol("inProgress"),ENDED:Symbol("ended")};exports.GAME_STATES=t;var E={FAST:15,SLOW:40};exports.ANIMATION_SPEEDS=E;
},{}],"kSgr":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=b,exports.findTile=v;var r=require("./DOM&CSSManipulations.js"),e=require("./Patterns.js");function t(r){return u(r)||i(r)||o(r)||n()}function n(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(r,e){if(r){if("string"==typeof r)return a(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?a(r,e):void 0}}function i(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}function u(r){if(Array.isArray(r))return a(r)}function a(r,e){(null==e||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function c(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})),t.push.apply(t,n)}return t}function f(r){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?c(Object(t),!0).forEach(function(e){l(r,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(t,e))})}return r}function l(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var s=[],p=[];function b(e,t){p=[],(0,r.applySize)(e),s=d(e*e,t);for(var n=0;n<e*e;n++)y(n,n%e,e);for(var o=0;o<e*e;o++){var i=O(p[o],e);p[o].numberOfMinesAroundMe=i}return p}function y(r,t,n){var o=[Math.floor(r/n),t],i=o[0],u=o[1],a=parseInt(r+1),c=s.some(function(r){return r===a}),l=f(f({},e.tilePattern),{},{id:a,isMine:c,row:parseInt(i)+1,column:parseInt(u)+1});p.push(l)}function O(r,e){for(var t=[r.row,r.column],n=t[0],o=t[1],i=0,u=n-1;u<=n+1;u++)for(var a=o-1;a<=o+1;a++)if(0!=u||0!=a){var c=v(u,a,e);null!=c&&c.isMine&&i++}return i}function v(r,e,t){return r<1||r>t||e<1||e>t?null:p.find(function(t){return t.row==r&&t.column==e})}function d(r,e){for(var n=new Set([]);n.size<e;){var o=m(1,r);n.add(parseInt(o))}return t(n)}function m(r,e){return Math.random()*(e-r)+r}
},{"./DOM&CSSManipulations.js":"vWIo","./Patterns.js":"MUAi"}],"wycG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.determineEmptyTilesAroundTile=i,exports.isWon=r,exports.revealEmptyTilesWithoutAnimatingTiles=a,exports.revealTiles=c;var t=require("./Patterns.js"),e=require("./DOM&CSSManipulations.js"),o=require("./CreateTiles.js"),n=document.querySelector("[data-board]");function r(e){var o=e.filter(function(t){return!t.isMine}).every(function(e){return e.state===t.TILE_STATES.NUMBER}),n=e.filter(function(t){return t.isMine}).every(function(e){return e.state===t.TILE_STATES.MARKED});return o||n}function c(o){o.forEach(function(o){if(o.isMine){if(o.state!=t.TILE_STATES.MARKED)o.state=t.TILE_STATES.MINE,n.querySelector('[data-tile-id="'.concat(o.id,'"]')).querySelectorAll("[data-state] > div").forEach(function(t){return t.remove()});(0,e.applyState)(o)}else o.state=t.TILE_STATES.REVEAL_WITHOUT_ANIMATING;(0,e.applyState)(o)})}function a(o,n){var r=i(o,n);0!=r.length&&r.forEach(function(o){var r=o.tile;r.state!==t.TILE_STATES.NUMBER&&(r.state=t.TILE_STATES.NUMBER,(0,e.applyState)(r),a(r,n))})}function i(t,e){for(var n=[t.row,t.column],r=n[0],c=n[1],a=new Map([["".concat(r-1,"-").concat(c-1),"bottomRightToTopLeft"],["".concat(r-1,"-").concat(c),"bottomToTop"],["".concat(r-1,"-").concat(c+1),"bottomLeftToTopRight"],["".concat(r,"-").concat(c+1),"leftToRight"],["".concat(r,"-").concat(c-1),"rightToLeft"],["".concat(r+1,"-").concat(c+1),"topLeftToBottomRight"],["".concat(r+1,"-").concat(c),"topToBottom"],["".concat(r+1,"-").concat(c-1),"topRightToBottomLeft"]]),i=[],T=r-1;T<=r+1;T++)for(var u=c-1;u<=c+1;u++)if(0!=T||0!=u){var s=(0,o.findTile)(T,u,e);null!=s&&0==s.numberOfMinesAroundMe&&i.push({tile:s,direction:a.get("".concat(T,"-").concat(u))})}return i}
},{"./Patterns.js":"MUAi","./DOM&CSSManipulations.js":"vWIo","./CreateTiles.js":"kSgr"}],"TP5C":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.animateTile=p,exports.animateTiles=s,exports.revealEmptyTiles=f;var t=require("./DOM&CSSManipulations.js"),e=require("./Game.js"),r=require("./Patterns.js");function o(t){return u(t)||a(t)||i(t)||n()}function n(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(t,e){if(t){if("string"==typeof t)return l(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(t,e):void 0}}function a(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function u(t){if(Array.isArray(t))return l(t)}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,o=new Array(e);r<e;r++)o[r]=t[r];return o}var c=document.querySelector("[data-board]");function f(o,n,i){var a=(0,e.determineEmptyTilesAroundTile)(o,n);0!=a.length&&a.forEach(function(e){var o=e.tile,u=e.direction;setTimeout(function(){o.state!==r.TILE_STATES.NUMBER&&(o.state=r.TILE_STATES.NUMBER,(0,t.applyState)(o),p(c.querySelector('[data-tile-id="'.concat(o.id,'"]')),i.speed,u,"erase"),setTimeout(function(){f(o,n,i)},i.speed*a.length))},i.speed)})}function s(t,e){for(var r=o(c.querySelectorAll("[data-tile]")),n=d(t),i=function(t){setTimeout(function(){p(r[n[t]-1],e)},e*t)},a=0;a<r.length;a++)i(a)}function p(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"topLeftToBottomRight",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"create",i=t.querySelector("[data-state]");"create"==n&&(i.dataset.state="hidden");for(var a=o(i.querySelectorAll("div")),u=e,l=new Map([["bottomRightToTopLeft",m(d(4))],["bottomToTop",[13,14,15,16,9,10,11,12,5,6,7,8,1,2,3,4]],["bottomLeftToTopRight",[13,9,14,5,10,15,1,6,11,16,2,7,12,3,8,4]],["leftToRight",[1,5,9,13,2,6,10,14,3,7,11,15,4,8,12,16]],["rightToLeft",m([1,5,9,13,2,6,10,14,3,7,11,15,4,8,12,16])],["topLeftToBottomRight",d(4)],["topToBottom",m([13,14,15,16,9,10,11,12,5,6,7,8,1,2,3,4])],["topRightToBottomLeft",m([13,9,14,5,10,15,1,6,11,16,2,7,12,3,8,4])]]).get(r),c=function(t){setTimeout(function(){a[l[t]-1].style.animationName="create"!=n?"erase-piece-of-tile":"create-piece-of-tile"},u*t)},f=0;f<a.length;f++)c(f)}function d(t){for(var e=[],r=0;r<t;r++)for(var o=r+1,n=0;n<=r;n++)e.push(o),o+=t-1;for(var i=2;i<=t;i++)for(var a=t*i,u=0;u<=t-i;u++)e.push(a),a+=t-1;return e}function m(t){return t.reduce(function(t,e){return t.unshift(e),t},[])}
},{"./DOM&CSSManipulations.js":"vWIo","./Game.js":"wycG","./Patterns.js":"MUAi"}],"ZIvQ":[function(require,module,exports) {
"use strict";function i(){var i,e=!1;return i=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(i)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(i.substr(0,4)))&&(e=!0),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.isMobilePhoneOrTablet=i;
},{}],"p7kT":[function(require,module,exports) {
"use strict";var e=c(require("./js/CreateTiles.js")),t=require("./js/DOM&CSSManipulations.js"),n=require("./js/Patterns.js"),o=require("./js/Game.js"),i=require("./js/Animations.js"),a=require("./js/AdditionalFunctions.js");function c(e){return e&&e.__esModule?e:{default:e}}var s=12,r=12,u=r,d=[],l=n.GAME_STATES.IN_PROGRESS,m={isAnimate:!0,speed:n.ANIMATION_SPEEDS.FAST},p="yellow",f="explosion",v=document.querySelector(".dark-light-theme"),y=document.querySelector(".menu-icon > svg"),S=y.closest(".menu"),E=document.querySelector(".menu-content .option:nth-child(1)"),T=document.querySelector(".menu-content .option:nth-child(2)"),g=document.querySelector(".customize-container"),L=document.querySelector(".rules-container"),h=document.querySelector(".customize-container .times"),A=document.querySelector(".rules-container .times"),b=document.querySelector(".animations-container .row"),q=document.querySelector(".animations-and-appearance > .row[data-disabled]"),k=document.querySelector(".animations-container .animations-button"),M=document.querySelectorAll(".board-sizes .dimensions .option .wrapper"),D=document.querySelectorAll(".levels .level input"),I=document.querySelectorAll(".speed-options .option input"),z=document.querySelectorAll(".color-palette .color"),N=document.querySelectorAll(".mines-pictures .image"),w=document.querySelector(".apply-button-container button"),_=document.querySelector("[data-board]"),x=document.querySelector("[data-reset]"),G=document.querySelector("[data-remaining-mines]"),P=document.querySelector("[data-toggle-sound]"),O=document.querySelector("[data-toggle-sound] .tooltip"),K=document.querySelector(".victory-container-wrapper"),j=document.querySelector(".victory-container-wrapper .open-customize-menu-button-container > button"),R=document.querySelector(".defeat-container-wrapper"),F=document.querySelector(".defeat-container-wrapper .reset-button-container > button"),W=document.querySelector(".credits-container .track"),C=document.querySelector("[data-get-started]"),B=document.querySelector("#loader"),H=document.querySelector("[data-background-music]");H.loop=!0,H.volume=.3;var U=document.querySelector("[data-applause-sound-effect]");U.volume=.5;var V=document.querySelector("[data-explosion-sound-effect]");V.volume=.5;var J=document.querySelector("[data-open-menu-sound-effect]");J.volume=.5;var Q=document.querySelector("[data-pre-bomb-explosion-sound-effect]");Q.loop=!0,Q.volume=.3;var X=document.querySelector("[data-loader-explosion-sound-effect]");X.volume=.6;var Y=!0,Z=function(){var e=window.innerWidth;e>550&&(q.dataset.disabled="false",m.isAnimate&&k.classList.add("on"),ee(9),ee(12)),e<=550&&e>420&&(te(),ee(9),ee(12)),e<=420&&e>340&&(te(),ee(9),12==s&&oe(9),$(12)),e<=340&&(te(),12!=s&&9!=s||oe(6),$(9),$(12))};function $(e){document.querySelector('.board-sizes .dimensions .option[data-size="'.concat(e,'"]')).dataset.disabled="true"}function ee(e){document.querySelector('.board-sizes .dimensions .option[data-size="'.concat(e,'"]')).dataset.disabled="false"}function te(){q.dataset.disabled="true",k.classList.remove("on")}var ne=function(){var e=new Map([["beginner",s],["intermediate",Math.ceil(s+s/2)],["expert",2*s]]);r=e.get("beginner"),D.forEach(function(t){t.dataset.mines=e.get(t.value),t.closest(".level").querySelector(".number-of-mines").innerHTML="&nbsp;&nbsp;-&nbsp;&nbsp;".concat(e.get(t.value),"&nbsp;")}),D[0].checked=!0};function oe(e){document.querySelector('.board-sizes .dimensions .option[data-size="'.concat(e,'"]')).classList.add("active"),M.forEach(function(t){var n=t.closest(".option");n.dataset.size!=e&&n.classList.remove("active")})}ne(),M.forEach(function(e){e.addEventListener("click",function(e){Y&&(J.currentTime=0,J.play());var t=e.target.closest(".option");"true"!=t.dataset.disabled&&(s=parseInt(t.dataset.size),ne(),oe(s))})}),D.forEach(function(e){e.closest(".level").addEventListener("click",function(e){Y&&(J.currentTime=0,J.play()),e.target.matches("input")&&(r=parseInt(e.target.dataset.mines))})}),I.forEach(function(e){e.closest(".option").addEventListener("click",function(e){Y&&(J.currentTime=0,J.play()),e.target.matches("input")&&(m.speed="fast-speed"==e.target.value?n.ANIMATION_SPEEDS.FAST:n.ANIMATION_SPEEDS.SLOW)})});var ie=function(){var e=document.querySelector(".board-sizes .dimensions .option:nth-child(1) .image img"),t=document.querySelector(".board-sizes .dimensions .option:nth-child(2) .image img"),n=document.querySelector(".board-sizes .dimensions .option:nth-child(3) .image img");document.body.classList.contains("light")?(e.src="./src/12x12-board-lighter.PNG",t.src="./src/9x9-board-lighter.PNG",n.src="./src/6x6-board-lighter.PNG"):(e.src="./src/12x12-board.PNG",t.src="./src/9x9-board.PNG",n.src="./src/6x6-board.PNG")},ae=function(){var e=document.querySelector(":root");document.body.classList.contains("light")?e.style.setProperty("color-scheme","light"):e.style.setProperty("color-scheme","dark")};v.addEventListener("click",function(){Y&&(J.currentTime=0,J.play()),document.body.classList.toggle("light"),ie(),ae()}),y.addEventListener("click",function(){Y&&(J.currentTime=0,J.play()),S.classList.toggle("open")}),document.addEventListener("click",function(e){e.target.closest(".menu")||S.classList.remove("open")});var ce=function(){g.classList.add("active"),g.scrollTop=0,S.classList.remove("open"),L.classList.remove("active"),setTimeout(function(){L.style.position="fixed"},0)};E.addEventListener("click",function(){Y&&(J.currentTime=0,J.play()),ce()});var se=function(){g.classList.remove("active")};h.addEventListener("click",function(){Y&&(J.currentTime=0,J.play()),se()});var re=function(){L.classList.add("active"),L.scrollTop=0,setTimeout(function(){L.style.position="absolute"},400),S.classList.remove("open"),g.classList.remove("active")};T.addEventListener("click",function(){Y&&(J.currentTime=0,J.play()),re()});var ue=function(){L.classList.remove("active"),setTimeout(function(){L.style.position="fixed"},0)};A.addEventListener("click",function(){Y&&(J.currentTime=0,J.play()),ue()});var de=function(){"true"!=q.dataset.disabled&&(m.isAnimate=0==m.isAnimate,k.classList.toggle("on"))};function le(){_.dataset.markedMinesColor=p}function me(){_.classList.value=f}b.addEventListener("click",function(){Y&&(J.currentTime=0,J.play()),de()}),z.forEach(function(e){e.addEventListener("click",function(e){Y&&(J.currentTime=0,J.play()),p=e.target.dataset.color,z.forEach(function(e){return e.classList.remove("active")}),e.target.classList.add("active"),le()})}),N.forEach(function(e){e.addEventListener("click",function(e){Y&&(J.currentTime=0,J.play());var t=e.target.closest(".image");f=t.dataset.mineImage,N.forEach(function(e){return e.classList.remove("active")}),t.classList.add("active"),me()})}),P.addEventListener("click",function(){"sound-off"==P.dataset.toggleSound?(Y=!0,H.play(),P.dataset.toggleSound="sound-on",O.textContent="Enable sounds"):(Y&&(J.currentTime=0,J.play()),Y=!1,H.pause(),P.dataset.toggleSound="sound-off",O.textContent="Disable sounds")}),w.addEventListener("click",function(){Y&&(J.currentTime=0,J.play()),ye(),(0,t.checkBoardWidth)(),g.classList.remove("active")}),W.addEventListener("click",function(){var e=W.closest(".credits-container");"true"==e.dataset.opened?e.dataset.opened="":e.dataset.opened="true"}),C.addEventListener("click",function(){B.dataset.loadingState="started",C.style.pointerEvents="none",setTimeout(function(){Q.play()},1e3),setTimeout(function(){Q.pause(),X.play(),document.querySelector("#loader .bomb img").style.opacity=0,ye(),(0,t.checkBoardWidth)()},2700),setTimeout(function(){H.play()},4200),setTimeout(function(){X.pause()},4500)});var pe,fe,ve={isFrozen:!1,durationOfFreezing:0};function ye(){u=r,l=n.GAME_STATES.IN_PROGRESS,_.innerHTML="",(0,t.updateMinesLeft)(u),(d=(0,e.default)(s,r)).forEach(function(e){return(0,t.renderTile)(e,m)}),m.isAnimate&&((0,i.animateTiles)(s,m.speed),ve.isFrozen=!0,ve.durationOfFreezing=s*(2^m.speed)*16,Se())}function Se(){setTimeout(function(){ve.isFrozen=!1},ve.durationOfFreezing)}function Ee(){var e=window.innerWidth;e<=550&&e>420&&m.isAnimate&&(m.isAnimate=!1,ye()),e<=420&&e>340&&12==s&&(m.isAnimate=!1,s=9,ne(),(0,t.applySize)(s),ye()),e<=340&&6!=s&&(m.isAnimate=!1,s=6,ne(),(0,t.applySize)(s),ye())}function Te(e){1==e.altKey&&"KeyR"==e.code&&(ye(),(0,t.checkBoardWidth)(),ue(),se()),1==e.altKey&&"KeyI"==e.code&&(L.classList.contains("active")||re()),1==e.altKey&&"KeyC"==e.code&&(g.classList.contains("active")||ce()),1==e.altKey&&"KeyA"==e.code&&de()}function ge(e,a){var c=a.button,r=void 0===c?1:c,p=a.durationOfTheTouch,f=void 0===p?-1:p;if(!ve.isFrozen&&l!=n.GAME_STATES.ENDED){var v=e.closest("[data-tile]"),y=parseInt(v.dataset.tileId),S=d.find(function(e){return e.id==y});if(0==r||f<300&&f>0)if(S.isMine)l=n.GAME_STATES.ENDED,G.textContent="",(0,o.revealTiles)(d),Y&&(V.play(),V.currentTime=0),(0,t.openDefeatBox)();else if(S.state==n.TILE_STATES.MARKED&&(u++,(0,t.updateMinesLeft)(u)),0==S.numberOfMinesAroundMe)m.isAnimate?(0,i.revealEmptyTiles)(S,s,m):(0,o.revealEmptyTilesWithoutAnimatingTiles)(S,s);else if(S.state=n.TILE_STATES.NUMBER,(0,t.applyState)(S),m.isAnimate){var E=_.querySelector('[data-tile-id="'.concat(S.id,'"'));(0,i.animateTile)(E,m.speed,void 0,"erase")}if(2==r||f>=300){if(0==u&&S.state!==n.TILE_STATES.MARKED)return;if(S.state!==n.TILE_STATES.HIDDEN&&S.state!==n.TILE_STATES.MARKED)return;S.state=S.state===n.TILE_STATES.MARKED?n.TILE_STATES.HIDDEN:n.TILE_STATES.MARKED,(0,t.applyState)(S),u=S.state===n.TILE_STATES.HIDDEN?u+1:u-1,(0,t.updateMinesLeft)(u)}l!==n.GAME_STATES.ENDED&&(0,o.isWon)(d)&&(l=n.GAME_STATES.ENDED,G.textContent="",(0,o.revealTiles)(d),Y&&(U.play(),U.currentTime=0),(0,t.openVictoryBox)())}}function Le(){K.dataset.state="hidden",ce(),U.pause()}function he(){Y&&(J.currentTime=0,J.play()),R.dataset.state="hidden",ye(),V.pause()}window.addEventListener("resize",function(){Z(),Ee(),(0,t.checkBoardWidth)()}),window.onload=function(){setTimeout(function(){C.style.animationName="fade-in",C.style.pointerEvents="initial"},500),Z(),Ee()},document.oncontextmenu=function(){return!1},x.addEventListener("click",function(){Y&&(J.currentTime=0,J.play()),ye()}),document.addEventListener("keydown",Te),document.addEventListener("mousedown",function(e){(0,a.isMobilePhoneOrTablet)()||null!=e.target.closest("[data-state]")&&null!=e.target.closest("[data-state]")&&ge(e.target.closest("[data-state]"),{button:e.button})}),document.addEventListener("touchstart",function(e){null!=e.target.closest("[data-state]")&&(pe=new Date(e.timeStamp))}),document.addEventListener("touchend",function(e){if(null!=e.target.closest("[data-state]")){var t=e.target.closest("[data-state]");fe=new Date(e.timeStamp),ge(t,{durationOfTheTouch:new Date(fe.getTime()-pe.getTime()).getMilliseconds()})}}),j.addEventListener("click",Le),F.addEventListener("click",he);
},{"./js/CreateTiles.js":"kSgr","./js/DOM&CSSManipulations.js":"vWIo","./js/Patterns.js":"MUAi","./js/Game.js":"wycG","./js/Animations.js":"TP5C","./js/AdditionalFunctions.js":"ZIvQ"}]},{},["p7kT"], null)
//# sourceMappingURL=/script.5f26d876.js.map